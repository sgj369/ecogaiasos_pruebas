<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECO GAIA SOS - Pruebas</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- ESTILOS CSS CONSOLIDADOS (Incluye la nueva animaci√≥n de carga) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        :root {
            --color-primary: #4CAF50; /* Verde principal */
            --color-secondary: #d9ad4c; /* Dorado/Amarillo */
            --color-dark: #333333;
            --color-light: #f7f7f7;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-light);
            overflow-x: hidden;
        }

        /* 1. ESTILOS DE BOTONES SOLICITADOS (Golden/Green) */
        .btn-ecoguia, .btn-sumate {
            padding: 0.75rem 1.25rem;
            font-size: 0.875rem; 
            font-weight: 600;
            border-radius: 0.5rem; 
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .btn-ecoguia {
            background-color: var(--color-secondary);
            color: white;
            white-space: nowrap;
        }
        .btn-ecoguia:hover {
            background-color: #c99c3a;
        }
        
        .btn-sumate {
            background-color: var(--color-primary);
            color: white;
        }
        .btn-sumate:hover {
            background-color: #3e8e41;
        }

        /* 2. BARRA DE NAVEGACI√ìN */
        .main-nav {
            @apply bg-white shadow-lg sticky top-0 z-50;
        }
        .nav-container {
            @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-20;
        }
        .nav-brand-logo {
            @apply h-12 w-12 rounded-full;
        }
        .nav-link {
            @apply text-gray-700 hover:text-green-600 px-3 py-2 rounded-md font-medium transition duration-150;
        }

        /* 3. PANTALLA DE CARGA Y NUEVO EFECTO DE TEXTO */
        #loader {
            /* A√±adir flex-col para centrar mejor el texto */
            @apply fixed inset-0 flex items-center justify-center bg-white z-[9999] transition-opacity duration-1000 ease-out flex-col; 
        }
        .loaded #loader {
            @apply opacity-0 pointer-events-none;
        }
        
        .loading-text {
            /* Contenedor del texto, usa un tama√±o de fuente base */
            @apply text-6xl font-extrabold tracking-wider;
            line-height: 1.2; 
        }

        /* Estilo de cada letra individual (SOLICITADO POR EL USUARIO) */
        .loading-text span {
            opacity: 0;
            transform: translateY(-5px);
            /* Transici√≥n para el efecto de "ca√≠da" */
            transition: opacity 0.2s ease-out, transform 0.2s ease-out;
            
            /* --- NUEVO EFECTO: L√çNEA DE COLOR ABAJO --- */
            color: var(--color-dark); /* Letra oscura para contraste en fondo blanco */
            border-bottom: 4px solid #0077b6; 
            padding-bottom: 5px; 
            margin: 0 3px; 
            display: inline-block; 
            font-size: 3rem; /* Tama√±o de letra grande */
        }
        
        /* Estado final de la animaci√≥n: visible y en posici√≥n */
        .loading-text.visible span {
            opacity: 1;
            transform: translateY(0);
        }

        /* Alternar colores en la l√≠nea inferior (SOLICITADO POR EL USUARIO) */
        .loading-text span:nth-child(4n+1) { border-bottom-color: #72B04D; } /* Verde */
        .loading-text span:nth-child(4n+2) { border-bottom-color: #0077b6; } /* Azul */
        .loading-text span:nth-child(4n+3) { border-bottom-color: #FFD700; } /* Amarillo */
        .loading-text span:nth-child(4n+4) { border-bottom-color: #E74C3C; } /* Rojo */

        /* 4. HERO SECTION */
        .hero-section {
            @apply min-h-[80vh] bg-cover bg-center flex items-center justify-center relative;
            background-image: url('https://placehold.co/1920x800/e0e0e0/555555?text=Fondo+Hero+Section'); 
        }
        .hero-content {
            @apply text-center p-8 bg-black bg-opacity-30 rounded-xl max-w-4xl w-full mx-4 relative z-10;
        }
        .hero-logo {
            @apply h-40 mx-auto mb-8;
        }

        /* 5. BUSCADOR */
        .search-bar-container {
            @apply flex items-center bg-white rounded-full p-3 shadow-xl mb-8 max-w-xl mx-auto;
        }
        #buscador-input {
            @apply flex-grow text-lg p-1 px-3 border-none focus:outline-none;
        }
        .search-bar-container i {
            @apply text-gray-400 text-xl mx-2;
        }

        /* 6. BOTONES DE ACCI√ìN */
        .action-buttons {
            @apply flex justify-center space-x-4 mb-10;
        }
        .btn {
            @apply px-6 py-3 rounded-full font-semibold transition duration-200;
        }
        .btn-primary {
            @apply bg-green-600 text-white hover:bg-green-700 flex items-center space-x-2;
        }
        .btn-secondary {
            @apply bg-gray-200 text-gray-700 hover:bg-gray-300;
        }

        /* 7. BOTONES DE NIVELES */
        .level-buttons-container {
            @apply flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4;
        }
        .btn-wrapper {
            @apply relative group;
        }
        .level-btn-group {
            @apply flex rounded-full overflow-hidden shadow-lg transform transition duration-300 hover:scale-[1.02];
        }
        .level-btn-link {
            @apply flex-grow text-white text-base font-bold py-3 px-6 text-left;
        }
        .mobile-info-toggle {
            @apply px-4 py-3 bg-opacity-20 hover:bg-opacity-30 transition-colors text-white;
        }
        .level-btn-colibri { background-color: #8c72cf; } /* Morado */
        .level-btn-ajolote { background-color: #4c8cff; } /* Azul */
        .level-btn-lobo { background-color: #ff994c; } /* Naranja */

        /* Tooltips */
        .tooltip-list {
            @apply hidden absolute top-full mt-2 w-max p-3 bg-white border border-gray-200 rounded-lg shadow-xl z-20 md:group-hover:block;
        }
        .tooltip-list ul {
            @apply list-none p-0 m-0;
        }
        .tooltip-list li {
            @apply text-gray-700 text-sm py-1 whitespace-nowrap;
        }

        /* 8. SECCIONES Y GRID DE TARJETAS */
        .content-section {
            @apply max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8;
        }
        .toggle-container {
            @apply flex items-center justify-center space-x-3 mb-8;
        }
        .toggle-label {
            @apply text-xl font-semibold text-gray-500 cursor-pointer transition-colors;
        }
        .toggle-label.active {
            @apply text-gray-800;
        }
        .toggle-switch {
            @apply w-12 h-6 bg-gray-300 rounded-full p-1 cursor-pointer relative;
        }
        .toggle-handle {
            @apply w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300;
        }
        
        .card-grid-container {
            @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8;
        }

        /* 9. MAPA DESPLEGABLE */
        .map-section-wrapper {
            @apply my-10;
        }
        .btn-full-width {
            @apply w-full px-6 py-3 rounded-lg bg-gray-800 text-white font-semibold hover:bg-gray-700 transition duration-200 flex items-center justify-center space-x-2;
        }
        .mapa-oculto {
            @apply max-h-0 overflow-hidden transition-[max-height] duration-500 ease-in-out;
        }
        .mapa-visible {
            @apply max-h-[600px] mt-4;
        }
        #mapa-desplegable iframe {
            @apply w-full h-96 rounded-lg shadow-xl;
        }

        /* 10. SECCIONES DE NIVELES */
        .nivel-section {
            @apply py-16 px-4 sm:px-6 lg:px-8 bg-white shadow-inner;
        }
        .section-divider {
            @apply border-t-2 border-green-500 max-w-3xl mx-auto my-8;
        }
        .nivel-section h2 {
            @apply text-4xl font-extrabold text-green-700 mb-4 flex items-center space-x-3;
        }
        .btn-back-to-top {
            @apply mt-10 px-6 py-3 rounded-full bg-gray-500 text-white font-semibold hover:bg-gray-600 transition duration-200 flex items-center justify-center space-x-2 mx-auto;
        }

        /* 11. FOOTER */
        footer {
            @apply bg-gray-900 text-white py-10;
        }
        .social-icons a {
            @apply text-2xl text-gray-400 hover:text-green-500 transition-colors mr-4;
        }
        
        /* Ocultar el texto del bot√≥n 'C√≥mo usar' en m√≥vil */
        @media (max-width: 640px) {
            .btn-ecoguia-mobile .btn-text {
                display: none;
            }
            .btn-ecoguia-mobile .fa-circle-question {
                display: block;
                font-size: 1.25rem;
                padding: 0.5rem;
            }
        }

    </style>
</head>
<body>

    <!-- PANTALLA DE CARGA (Ahora solo es un contenedor vac√≠o para el texto din√°mico) -->
    <div id="loader">
        <!-- El texto animado ser√° insertado aqu√≠ por JavaScript -->
    </div>

    <!-- BARRA DE NAVEGACI√ìN SUPERIOR -->
    <nav class="main-nav">
        <div class="nav-container">
            
            <!-- Grupo Izquierdo: Logo y Bot√≥n 'C√≥mo usar' -->
            <div class="flex items-center space-x-4 md:space-x-6">
                <!-- Logo -->
                <a href="index.html" class="nav-brand">
                    <img src="https://placehold.co/50x50/4CAF50/ffffff?text=EGS" alt="Logo ECO GAIA SOS" class="nav-brand-logo border-2 border-green-500">
                </a>
                
                <!-- Bot√≥n 'C√≥mo usar ECOGUIA SOS' (Dorado y fuera del men√∫) -->
                <a href="como-usar.html" class="btn-ecoguia btn-ecoguia-mobile">
                    <i class="fa-solid fa-circle-question sm:hidden"></i>
                    <span class="btn-text hidden sm:inline">C√≥mo usar ECOGUIA SOS</span>
                </a>
            </div>

            <!-- Grupo Derecho: Men√∫ Principal, S√∫mate y Hamburguesa -->
            <div class="flex items-center space-x-3 sm:space-x-4">
                
                <!-- Men√∫ de Opciones (Desktop) -->
                <ul class="nav-menu hidden md:flex space-x-6 lg:space-x-8" id="nav-menu-list-desktop">
                    <li><a href="index.html" class="nav-link">Inicio</a></li>
                    <li><a href="Nosotros/nosotros.html" class="nav-link">Nosotros</a></li>
                    <li><a href="#" class="nav-link">Directorio</a></li>
                    <li><a href="#" class="nav-link">Blog</a></li>
                </ul>
                
                <!-- Bot√≥n S√∫mate (Verde) -->
                <a href="#" class="btn-sumate text-sm hidden md:inline-block">
                    S√∫mate
                </a>

                <!-- Bot√≥n Hamburguesa para M√≥vil/Tablet -->
                <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500" aria-label="Abrir men√∫">
                    <i id="hamburger-icon" class="fa-solid fa-bars text-2xl"></i>
                    <i id="close-icon" class="fa-solid fa-xmark text-2xl hidden"></i>
                </button>
            </div>
        </div>
        
        <!-- Men√∫ M√≥vil Desplegable -->
        <ul class="nav-menu-mobile hidden md:hidden px-2 pt-2 pb-3 space-y-1" id="mobile-menu">
            <li><a href="index.html" class="nav-link block text-base">Inicio</a></li>
            <li><a href="Nosotros/nosotros.html" class="nav-link block text-base">Nosotros</a></li>
            <li><a href="#" class="nav-link block text-base">Directorio</a></li>
            <li><a href="#" class="nav-link block text-base">Blog</a></li>
            <li><a href="#" class="btn-sumate w-full mt-2 block text-base">S√∫mate</a></li>
        </ul>
    </nav>

    <!-- HERO PRINCIPAL -->
    <header class="hero-section" id="particles-js">
        <div class="hero-content">
            <img src="https://placehold.co/150x150/4CAF50/ffffff?text=EGS+Animado" alt="Logo animado de ECO GAIA SOS" class="hero-logo">
            <div class="search-bar-container">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="buscador-input" placeholder="Busca un proyecto, actor o tema..." class="bg-transparent">
            </div>
            <div class="action-buttons">
                <button class="btn btn-secondary shadow-md">B√∫squeda Avanzada</button>
                <button class="btn btn-primary shadow-md">
                    <i class="fa-solid fa-location-dot"></i>
                    Eventos cerca de m√≠
                </button>
            </div>
            <div class="level-buttons-container">
                <div class="btn-wrapper">
                    <div class="level-btn-group level-btn-colibri">
                        <a href="#seccion-colibri" class="level-btn-link">
                            <i class="fa-solid fa-dove"></i> Colibr√≠ (Polinizaci√≥n)
                        </a>
                        <button class="mobile-info-toggle" aria-label="Ver opciones">
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                    </div>
                    <div class="tooltip-list">
                        <ul>
                            <li>üéì Cursos</li>
                            <li>üí° Ecotecnias</li>
                            <li>‚úçÔ∏è Firmas</li>
                            <li>üìö Lecturas</li>
                            <li>üé¨ Documentales</li>
                        </ul>
                    </div>
                </div>
                <div class="btn-wrapper">
                    <div class="level-btn-group level-btn-ajolote">
                        <a href="#seccion-ajolote" class="level-btn-link">
                            <i class="fa-solid fa-frog"></i> Ajolote (Regeneraci√≥n)
                        </a>
                        <button class="mobile-info-toggle" aria-label="Ver opciones">
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                    </div>
                    <div class="tooltip-list">
                        <ul>
                            <li>üë• Agentes de cambio</li>
                            <li>üì£ Convocatorias</li>
                            <li>ü§ù Voluntariados</li>
                        </ul>
                    </div>
                </div>
                <div class="btn-wrapper">
                    <div class="level-btn-group level-btn-lobo">
                        <a href="#seccion-lobo" class="level-btn-link">
                            <i class="fa-solid fa-dog"></i> Lobo (Estrategia)
                        </a>
                        <button class="mobile-info-toggle" aria-label="Ver opciones">
                            <i class="fa-solid fa-caret-down"></i>
                        </button>
                    </div>
                    <div class="tooltip-list">
                        <ul>
                            <li>üí∞ Fondos</li>
                            <li>‚öñÔ∏è Normativa</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- PARTE B: CONSOLA DE DATOS -->
    <main class="content-section">
        
        <div class="toggle-container" id="filter-toggle">
            <span class="toggle-label active" data-filter="evento">Eventos</span>
            <div class="toggle-switch">
                <div class="toggle-handle"></div>
            </div>
            <span class="toggle-label" data-filter="lugar">Lugares</span>
        </div>

        <div class="card-grid-container" id="contenedor-tarjetas">
            <p class="text-white text-center w-full">Cargando proyectos...</p>
        </div>

        <div class="map-section-wrapper">
            <button id="btn-toggle-mapa" class="btn-full-width shadow-lg">
                <i class="fa-solid fa-map-location-dot"></i> Mostrar Mapa de Actores
            </button>
            
            <div id="mapa-desplegable" class="mapa-oculto">
                <iframe src="https://www.google.com/maps/d/u/0/embed?mid=1ucypWovpoEYMy6hrTsYjBGLT_NDP-TY&ehbc=2E312F" title="Mapa de Actores ECO GU√çA SOS" frameborder="0" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
            </div>
        </div>

    </main>

    <!-- PARTE C: SECCIONES DE NIVELES (El resto del contenido se mantiene igual) -->
    
    <!-- SECCI√ìN COLIBR√ç -->
    <section id="seccion-colibri" class="nivel-section">
        <div class="section-divider"></div>
        <div class="nivel-content">
            <h2><i class="fa-solid fa-dove"></i> Colibr√≠ (Polinizaci√≥n)</h2>
            <p class="nivel-description">Poliniza tu mente con conocimiento y peque√±as acciones que generan vida.</p>
            <div class="nivel-btn-grid">
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üéì Cursos</span><p class="nivel-btn-desc">Explora cursos y talleres para aprender nuevas habilidades sostenibles.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üí° Ecotecnias</span><p class="nivel-btn-desc">Descubre tecnolog√≠as que puedes aplicar en casa para ayudar al planeta.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">‚úçÔ∏è Firmas</span><p class="nivel-btn-desc">Apoya causas y peticiones importantes con tu firma.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üìö Lecturas y bibliograf√≠a</span><p class="nivel-btn-desc">Encuentra art√≠culos, gu√≠as y libros recomendados por la comunidad.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üé¨ V√≠deos y documentales</span><p class="nivel-btn-desc">Insp√≠rate con documentales y videos educativos seleccionados.</p></a>
            </div>
            <button onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="btn-back-to-top shadow-md">
                <i class="fa-solid fa-arrow-up"></i> Ir al Buscador
            </button>
        </div>
    </section>

    <!-- SECCI√ìN AJOLOTE -->
    <section id="seccion-ajolote" class="nivel-section bg-gray-50">
        <div class="section-divider border-gray-300"></div>
        <div class="nivel-content">
            <h2><i class="fa-solid fa-frog"></i> Ajolote (Regeneraci√≥n)</h2>
            <p class="nivel-description">Regenera el tejido social y ambiental actuando en comunidad.</p>
            <div class="nivel-btn-grid">
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üë• Agentes de cambio</span><p class="nivel-btn-desc">Conoce a las personas y organizaciones que est√°n liderando el cambio.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üì£ Convocatorias</span><p class="nivel-btn-desc">Encuentra oportunidades para presentar tus proyectos o unirte a otros.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">ü§ù Eventos y voluntariados</span><p class="nivel-btn-desc">√önete a eventos y jornadas de voluntariado cerca de ti.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üóìÔ∏è Voluntariados convocatoria larga</span><p class="nivel-btn-desc">Comprom√©tete con voluntariados a largo plazo y genera un impacto duradero.</p></a>
            </div>
            <button onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="btn-back-to-top shadow-md">
                <i class="fa-solid fa-arrow-up"></i> Ir al Buscador
            </button>
        </div>
    </section>

    <!-- SECCI√ìN LOBO -->
    <section id="seccion-lobo" class="nivel-section">
        <div class="section-divider"></div>
        <div class="nivel-content">
            <h2><i class="fa-solid fa-dog"></i> Lobo (Estrategia)</h2>
            <p class="nivel-description">Lidera con estructura, fondos y legalidad para proyectos de alto impacto.</p>
            <div class="nivel-btn-grid">
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">üí∞ Fondos</span><p class="nivel-btn-desc">Descubre fuentes de financiamiento y fondos para tus proyectos.</p></a>
                <a href="#" class="nivel-btn-item"><span class="nivel-btn-title">‚öñÔ∏è Normativa</span><p class="nivel-btn-desc">Consulta las leyes y normativas vigentes en materia ambiental.</p></a>
            </div>
            <button onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="btn-back-to-top shadow-md">
                <i class="fa-solid fa-arrow-up"></i> Ir al Buscador
            </button>
        </div>
    </section>

    <!-- PIE DE P√ÅGINA -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>ECO GAIA SOS</h4>
                <p>Generando Redes Para el Futuro</p>
            </div>
            <div class="footer-section">
                <h4>Contacto</h4>
                <p>Email: contacto@ecogaiasos.com</p>
            </div>
            <div class="footer-section">
                <h4>S√≠guenos</h4>
                <div class="social-icons">
                    <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 ECO GAIA SOS. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- SCRIPTS CONSOLIDADOS -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Funci√≥n para generar el texto de carga con spans individuales
        function setupLoadingText(text) {
            const loader = document.getElementById('loader');
            
            // Limpiar el contenido original (la imagen placeholder)
            loader.innerHTML = ''; 

            const textContainer = document.createElement('div');
            textContainer.className = 'loading-text';
            loader.appendChild(textContainer);

            // Dividir el texto en letras y crear un span para cada una
            text.split('').forEach((char, index) => {
                const span = document.createElement('span');
                // Usar espacio no rompible para que el margen y el borde funcionen en espacios
                span.textContent = char === ' ' ? '\u00A0' : char; 
                span.style.transitionDelay = `${index * 0.08}s`; // Retraso escalonado
                textContainer.appendChild(span);
            });
            
            // Iniciar la animaci√≥n despu√©s de un breve momento
            setTimeout(() => {
                textContainer.classList.add('visible');
            }, 50);

            // Calcular el tiempo total de la animaci√≥n (letras * retraso + duraci√≥n de la transici√≥n + buffer)
            const animationDuration = (text.length * 80) + (200) + 1000;
            
            // Ocultar la pantalla de carga despu√©s de que termine la animaci√≥n
            setTimeout(() => {
                document.body.classList.add('loaded');
            }, animationDuration);
        }

        // Llama a la funci√≥n de configuraci√≥n tan pronto como el DOM est√© listo
        document.addEventListener('DOMContentLoaded', () => {
            setupLoadingText("ECO GAIA SOS");
        });


        // L√≥gica de inicializaci√≥n de la p√°gina (se ejecuta cuando todos los recursos han cargado)
        window.addEventListener('load', () => {
            // Inicializa particles.js
            particlesJS('particles-js', {
                "particles": {
                    "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
                    "color": { "value": "#ffffff" },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.5, "random": false, "anim": { "enable": false } },
                    "size": { "value": 3, "random": true, "anim": { "enable": false } },
                    "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1 },
                    "move": { "enable": true, "speed": 6, "direction": "none", "random": false, "straight": false, "out_mode": "out" }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": { "onhover": { "enable": true, "mode": "grab" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
                    "modes": { "grab": { "distance": 140, "line_linked": { "opacity": 1 } }, "push": { "particles_nb": 4 } }
                },
                "retina_detect": true
            });
        });

        // L√≥gica del men√∫ m√≥vil
        const menuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const hamburgerIcon = document.getElementById('hamburger-icon');
        const closeIcon = document.getElementById('close-icon');

        if (menuButton) {
            menuButton.addEventListener('click', () => {
                const isExpanded = mobileMenu.classList.contains('hidden');
                mobileMenu.classList.toggle('hidden');
                hamburgerIcon.classList.toggle('hidden', !isExpanded);
                closeIcon.classList.toggle('hidden', isExpanded);
                menuButton.setAttribute('aria-expanded', !isExpanded);
            });
        }

        // L√≥gica del mapa desplegable
        const mapToggleButton = document.getElementById('btn-toggle-mapa');
        const mapContainer = document.getElementById('mapa-desplegable');

        if (mapToggleButton) {
            mapToggleButton.addEventListener('click', () => {
                mapContainer.classList.toggle('mapa-oculto');
                mapContainer.classList.toggle('mapa-visible');

                const isVisible = mapContainer.classList.contains('mapa-visible');
                if (isVisible) {
                    mapToggleButton.innerHTML = '<i class="fa-solid fa-map-location-dot"></i> Ocultar Mapa de Actores';
                } else {
                    mapToggleButton.innerHTML = '<i class="fa-solid fa-map-location-dot"></i> Mostrar Mapa de Actores';
                }
            });
        }

        // L√≥gica del Toggle Eventos/Lugares (Ejemplo simple)
        const filterToggleContainer = document.getElementById('filter-toggle');
        
        if (filterToggleContainer) {
            const eventLabel = filterToggleContainer.querySelector('[data-filter="evento"]');
            const lugarLabel = filterToggleContainer.querySelector('[data-filter="lugar"]');
            const toggleHandle = filterToggleContainer.querySelector('.toggle-handle');

            filterToggleContainer.addEventListener('click', (e) => {
                let targetFilter = eventLabel.classList.contains('active') ? 'lugar' : 'evento';

                if (e.target === eventLabel || e.target.closest('[data-filter="evento"]')) {
                    targetFilter = 'evento';
                } else if (e.target === lugarLabel || e.target.closest('[data-filter="lugar"]')) {
                    targetFilter = 'lugar';
                }

                if (targetFilter === 'lugar') {
                    eventLabel.classList.remove('active');
                    lugarLabel.classList.add('active');
                    toggleHandle.style.transform = 'translateX(100%)';
                } else {
                    eventLabel.classList.add('active');
                    lugarLabel.classList.remove('active');
                    toggleHandle.style.transform = 'translateX(0)';
                }
            });
        }

    </script>

</body>
</html>

